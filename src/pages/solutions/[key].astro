---
import HeroServiceDetails from '../../components/sections/service/HeroServiceDetails.astro'
import Layout from '../../layouts/Layout.astro'
import { solutionDetailsList } from '../../utils/solution'

export async function getStaticPaths() {
  return solutionDetailsList.map((item) => ({
    params: { key: item.key },
    props: {
      data: solutionDetailsList.filter((data) => data.key === item.key)
    }
  }))
}

const { data } = Astro.props
if (!data) return Astro.redirect('/404')
---

{
  data.map((item) => (
    <Layout
      title={`${item.metaTitle}`}
      description={item.metaDescription}
      image={item.bannerImage}
    >
      <main class='flex flex-col gap-y-20 md:gap-y-32 overflow-hidden'>
        <HeroServiceDetails
          title={item.title}
          description={item.description}
          image={item.bannerImage}
        />
      </main>
    </Layout>
  ))
}
